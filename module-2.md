# 5.1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения.
### 1. Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.
Основное отличие различных типов виртуализации заключается в уровне "независимости" гостевых операционных систем: 
```TEXT
а. При аппаратной виртуализации гостевые ОС остаются неизменными.
б. При паравиртуализации требуется модификация ядра (драйверов).
в. При виртуализации на основе ОС, гостевая ОС вообще использует ядро хоста.
```
### 2. Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.
#### а. Высоконагруженная база данных, чувствительная к отказу.
```TEXT
Физические сервера:
Такое размещение дает более высокий отклик и сокращает точки отказа в виде гипервизора хостовой машины.
Позволяет максимально использовать ресурсы хоста (не разделяя их с другими ВМ). 
```
#### б. Различные web-приложения.
```TEXT
Виртуализация уровня ОС:
Требуется меньше ресурсов, высокая скорость масштабирования при необходимости расширения.
Относительно невысокие затраты на администрирование.
```
#### в. Windows системы для использования бухгалтерским отделом.
```TEXT
Паравиртуализация:
Повышение отказоустойчивости. Возможность расширения на уровне ВМ.
Нет жестких требований по доступу к аппаратным ресурсам.
```
#### г. Системы, выполняющие высокопроизводительные расчеты на GPU.
```TEXT
Физические сервера:
Очень важна производительность, а любой слой виртуализации - это ее потеря.
```
### 3. Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.
```TEXT
Сценарий 1
100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. 
Преимущественно Windows based инфраструктура, требуется реализация программных
балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.

Решение
Hyper-V или vSphere.  Хорошо поддерживают ВМ с Windows и Linux. 
Балансировка, репликация, создание резервных копий - встроены. 
Можно создавать кластер гипервизоров - это необходимо для работы 100 ВМ.
```
```TEXT
Сценарий 2
Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой 
(20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.

Решение
Proxmox VE (гипервизор KVM). Оpen source решение, хорошо поддерживает Windows гостей,
Возможности по управлению сравнимы с коммерческими гипервизорами.
```
```TEXT
Сценарий 3
Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации 
Windows инфраструктуры.

Решение
Hyper-V Server. Максимально совместимое (т.к. от Microsoft) и бесплатное решение.
 ```
```TEXT
Сценарий 4
Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

Решение
LXD. Содержит большую библиотеку с разными дистрибутивами
в образах.
 ```
### 4. Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.
К основным проблемам относятся: необходимость в наборе специалистов различного профиля, кроме того, данный способ виртуализации
инфраструктуры является дорогостоящим и неэффективным в долгосрочной перспективе, поскольку, по мере развития
технологий, компании стремятся обеспечить легкость в управлении, совместимость различных систем и масштабируемость инфраструктуры. 
Лучшее решение, конечно, мигрировать на одну платформу, но это может быть не всегда возможно. В таких ситуациях лучше, по возможности,
использовать гипервизоры с более низким порогом входа для инженеров.
Если бы выбор был за мной, то старался бы делать максимально единообразную систему с минимумом разнообразия используемых технологий.
При этом не отказываясь, в определенных случаях, от использования нескольких систем виртуализации одновременно. Например, использование докер-контейнеров для микросервисов на базе ВМ. 

# 5.2. Применение принципов IaaC в работе с виртуальными машинами
### Задача 1
```TEXT
Опишите своими словами основные преимущества применения на практике IaaC паттернов.

Ответ:
Возможность быстро конфигурировать инфраструктуру. Удобное масштабирование. Централизованное внесение изменений,
используя систему контроля версий, а так же возможность отката на предыдущие версии. Возможность быстрого восстановления
инфраструктуры после выхода из строя в аварийных случаях.

 ```
```TEXT
Какой из принципов IaaC является основополагающим?

Ответ:
Основополагающим принципом является идемпотентность. Гарания достижения необходимого состояния конфигурации.
 ```
### Задача 2
```TEXT
Чем Ansible выгодно отличается от других систем управление конфигурациями?

Ответ:
Ansible использует существующую SSH инфраструктуру, в то время как другие инструменты требуют установки
специального PKI-окружения.
 ```
```TEXT
Какой, на ваш взгляд, метод работы систем конфигурации более надёжный push или pull?

Ответ:
Push надежнее, т.к. управляет конфигурацией централизованно. Если не удастся доставить конфигурацию на сервер,
он оповестит об этом. При методе pull возможна ситуация, когда сервер по какой-либо причине не запросит и
не обновит конфигурацию.  
 ```
### Задача 3
```TEXT
Установить на личный компьютер:
  VirtualBox
  Vagrant
  Ansible
Приложить вывод команд установленных версий каждой из программ, оформленный в markdown.
 ```
Ответ:
```bash
user@user-Aspire-F5-573G:~$ vboxmanage --version
6.1.28r147628
user@user-Aspire-F5-573G:~$ vagrant --version
Vagrant 2.2.19
user@user-Aspire-F5-573G:~$ ansible --version
/usr/lib/python2.7/dist-packages/ansible/parsing/vault/__init__.py:44: CryptographyDeprecationWarning: Python 2 is no longer supported by the Python core team. Support for it is now deprecated in cryptography, and will be removed in a future release.
  from cryptography.exceptions import InvalidSignature
ansible 2.9.27
  config file = /etc/ansible/ansible.cfg
  configured module search path = [u'/home/user/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python2.7/dist-packages/ansible
  executable location = /usr/bin/ansible
  python version = 2.7.17 (default, Feb 27 2021, 15:10:58) [GCC 7.5.0]
```
